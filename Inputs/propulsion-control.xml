<?xml version="1.0"?>

<PropertyList>
	<name>control</name>
	<dialog-name>start-control</dialog-name>
	<x>-10</x>
	<y>-30</y>
	<layout>vbox</layout>
	    <group>
		    <layout>hbox</layout>
		    <default-padding>1</default-padding>
		    <empty>
		    <stretch>true</stretch>
		    </empty>
		    <text>
			<label>Main</label>
			<halign>center</halign>
		    </text>
		    <empty>
		    <stretch>true</stretch>
		    </empty>
		    <button>
		    <legend/>
		    <key>Esc</key>
		    <pref-width>16</pref-width>
		    <pref-height>16</pref-height>
		    <border>2</border>
		    <command>dialog-apply</command>
		    <binding>
			<command>dialog-close</command>
		    </binding>
		    </button>
		    </group>
		    <hrule/> 
		<group>
	    <layout>vbox</layout>
	    </group>
	    <group>
		 <layout>hbox</layout>
		<text>
		    <label>>>>START COMMANDS>>></label>
		    <halign>center</halign>
		</text>
	    </group>
	     <hrule/>
	    <group>
                <layout>hbox</layout>
		<button>
		     <legend>ROTOR BRAKE</legend>
		    <halign>left</halign>
		     <binding>
                        <command>property-toggle</command>
			<property>fdm/jsbsim/animation/rotor_brake-switch-cmd</property>
		    </binding>
		     <binding>
			<command>property-toggle</command>
			<property>fdm/jsbsim/animation/rotor_brake-switch-lock-cmd</property>
		    </binding>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/fcs/wing-fold-cmd</property>
			<value>0</value>
		    </binding>
		 </button>   
		<checkbox>
		    <property>fdm/jsbsim/animation/rotor_brake-switch-cmd</property>
		    <command>dialog-apply</command>
		    <live>true</live>
		    <halign>right</halign>
                </checkbox>
	    </group>
	    <hrule/>
	     <group>
		<layout>vbox</layout>
		<text>
		    <label>PUMP and CUTOFF</label>
		     <halign>center</halign>
		</text>
	    </group>
	    <group>
		<layout>hbox</layout>
		<button>
		     <legend>OPEN</legend>
		     <halign>left</halign>
		    <live>true</live>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/propulsion/engine[0]/cutoff</property>
			<value>0</value>
		    </binding>
                </button>
		<button>
		     <legend>CUT</legend>
		    <live>true</live>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/propulsion/engine[0]/cutoff</property>
			<value>1</value>
		    </binding>
                </button>
		<checkbox>
		    <halign>right</halign>
			<property>fdm/jsbsim/systems/engine/fuel-pump</property>	
			<live>true</live>
		 </checkbox>
	    </group>
	   <hrule/>
	    <group>
		<layout>hbox</layout>
		<button>
		     <legend>BATTERY</legend>
		    <live>true</live>
		    <halign>left</halign>
		    <binding>
			<command>property-toggle</command>
			<property>fdm/jsbsim/electrical/switch/battery</property>
		    </binding>
                </button>
		 <checkbox>
		      <halign>right</halign>
			<property>fdm/jsbsim/electrical/switch/battery</property>
			<command>dialog-apply</command>
			<live>true</live>
		 </checkbox>	
	    </group>
	    
	    <group>
		<layout>hbox</layout>
		<button>
		     <legend>ALTERNATOR</legend>
		    <live>true</live>
		    <halign>left</halign>
		    <binding>
			<command>property-toggle</command>
			<property>fdm/jsbsim/electrical/switch/alternator</property>
		    </binding>
                </button>
		 <checkbox>
		     <halign>right</halign>
			<property>fdm/jsbsim/electrical/switch/alternator</property>
			<command>dialog-apply</command>
			<live>true</live>
		 </checkbox>	
	    </group>
	    <hrule/>
	    
	     <hrule/>
	    <group>
		<layout>hbox</layout>
		<button>
		     <legend>START</legend>
		    <live>true</live>
		     <halign>left</halign>
		    <enable>
			<and>
			    <not>
				<property>fdm/jsbsim/propulsion/engine[0]/cutoff</property>
			    </not>
			    <not>
				 <property>fdm/jsbsim/animation/rotor_brake-switch-cmd</property>
			    </not>
			    <not>
				 <property>fdm/jsbsim/animation/master-switch-cmd</property>
			    </not>
			    <property>fdm/jsbsim/electrical/switch/battery</property>
			    <property>fdm/jsbsim/electrical/switch/alternator</property>
			     <property>sim/gui/dialogs/AL3/turbine_rpm0</property>
			</and>
		    </enable>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/animation/master-switch-cmd</property>
			<value>1</value>
		    </binding>
		     <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/animation/master-switch-lock-cmd</property>
			<value>1</value>
		    </binding>
                </button>
		<button>
		     <legend>STOP/INIT</legend>
		     <halign>right</halign>
		      <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/propulsion/engine[0]/cutoff</property>
			<value>1</value>
		    </binding>
		     <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/electrical/switch/alternator</property>
			<value>0</value>
		    </binding>
		     <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/electrical/switch/battery</property>
			<value>0</value>
		    </binding>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/animation/master-switch-cmd</property>
			<value>0</value>
		    </binding>
		     <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/animation/master-switch-lock-cmd</property>
			<value>0</value>
		    </binding>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/fcs/nominal-flow-cmd</property>
			<value>0</value>
		    </binding>
		     <binding>
			<property>sim/gui/dialogs/AL3/turbine_rpm0</property>
			<command>property-assign</command>
			<value>1</value>
		    </binding>
		     <binding>
			<property>sim/gui/dialogs/AL3/turbine_rpm1</property>
			<command>property-assign</command>
			<value>0</value>
		    </binding>
		    <binding>
			<property>sim/gui/dialogs/AL3/turbine_rpm2</property>
			<command>property-assign</command>
			<value>0</value>
		    </binding>
		    <binding>
			<property>sim/gui/dialogs/AL3/turbine_rpm3</property>
			<command>property-assign</command>
			<value>0</value>
		    </binding>
                </button>
		</group>
		<hrule/>
	    <group>
		<layout>vbox</layout>
		<text>
		    <label>=END START CMD=</label>
		    <halign>center</halign>
		</text>
	    </group>
	     <hrule/>
		<group>
		    <layout>hbox</layout>
		    <halign>left</halign>
		    <text>
			<label>Turbine n1 %</label>
		    </text>
		    <input>
		    <live>true</live>
		    <halign>right</halign>
		    <property>fdm/jsbsim/propulsion/engine[0]/n1</property>
		    <x>10</x>
		    <y>10</y>
		    <color>
			<red>1.0</red>
			<green>0.80</green>
			<blue>0.80</blue>
		    </color>
		    </input>
		</group>
		 <group>
		    <layout>hbox</layout>
		    <halign>left</halign>
		    <text>
			<label>Turbine RPM</label>
		    </text>
		    <input>
		    <live>true</live>
		    <halign>right</halign>
		    <property>fdm/jsbsim/propulsion/engine[0]/engine-rpm</property>
		    <x>10</x>
		    <y>10</y>
		    <color>
			<red>1.0</red>
			<green>0.80</green>
			<blue>0.80</blue>
		    </color>
		    </input>
		</group>
	    <hrule/>
	    <hrule/>
	     <group>
                <layout>vbox</layout>
                <text>
                    <label>FUEL FLOW CONTROL</label>
                    <halign>center</halign>
                </text>
            </group>
	    <group>
                <layout>table</layout>
		<text>
		    <label>18000 - Idle</label>
		    <halign>left</halign>
		    <row>1</row>
                    <col>0</col>
		</text>
                <radio>
		    <row>1</row>
                    <col>1</col>
		    <property>sim/gui/dialogs/AL3/turbine_rpm0</property>
		    <command>dialog-apply</command>
		    <live>true</live>
		    <binding>
			<command>property-assign</command>
			<property>fdm/jsbsim/fcs/nominal-flow-cmd</property>
			<value>0</value>
		    </binding>
                </radio>
		<text>
		    <label>20000 - Clutch</label>
		    <halign>left</halign>
		    <row>2</row>
                    <col>0</col>
		</text>
                <radio>
		    <row>2</row>
                    <col>1</col>
		    <property>sim/gui/dialogs/AL3/turbine_rpm1</property>
		     <command>dialog-apply</command>
		    <live>true</live>		    
		     <binding>
			<property>fdm/jsbsim/fcs/nominal-flow-cmd</property>
			<command>property-assign</command>
			<value>0.25</value>
		    </binding>
		 </radio>
		 <text>
		    <label>28000 - Low</label>
		    <halign>left</halign>
		    <row>3</row>
                    <col>0</col>
		</text>
                <radio>
		    <row>3</row>
                    <col>1</col>
		    <property>sim/gui/dialogs/AL3/turbine_rpm2</property>
		    <live>true</live>
		     <binding>
			<property>fdm/jsbsim/fcs/nominal-flow-cmd</property>
			<command>property-assign</command>
			<value>0.50</value>
		    </binding>
		 </radio>
		  <text>
		    <label>33500 - Nominal</label>
		    <halign>left</halign>
		    <row>4</row>
                    <col>0</col>
		</text>
                <radio>
		    <row>4</row>
                    <col>1</col>
		    <property>sim/gui/dialogs/AL3/turbine_rpm3</property>
		    <live>true</live>
		     <binding>
			<property>fdm/jsbsim/fcs/nominal-flow-cmd</property>
			<command>property-assign</command>
			<value>0.75</value>
		    </binding>
		 </radio>
		  <text>
		    <label>Open FCM</label>
		    <halign>left</halign>
		    <row>5</row>
                    <col>0</col>
		</text>
		 <radio>
		    <row>5</row>
                    <col>1</col>
		    <property>sim/gui/dialogs/AL3/turbine_rpm4</property>
		    <live>true</live>
		     <binding>
			<property>fdm/jsbsim/fcs/nominal-flow-cmd</property>
			<command>property-assign</command>
			<value>1</value>
		    </binding>
		 </radio>
	    </group>
	  
	   <hrule/>
	   
	    <button>
                <legend>Others controls</legend>
		<binding>
                    <command>nasal</command>
                    <script>
                        var startctl2 = gui.Dialog.new("/sim/gui/dialogs/AL3/menu/control/dialog",
                        "Aircraft/Alouette-III/Inputs/equipment-control.xml");
                        startctl2.open();
                    </script>
                </binding>
		<binding>
		    <command>dialog-close</command>
                </binding>
	    </button>
	     
            <!--<button>
                <legend>Close</legend>
                <default>true</default>
                <key>Esc</key>
                <padding>10</padding>
                <binding>
		    <command>dialog-close</command>
                </binding>
            </button>-->

</PropertyList>
